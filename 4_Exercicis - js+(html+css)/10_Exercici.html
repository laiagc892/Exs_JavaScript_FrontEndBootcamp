<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10_Exercici</title>
    <link rel="stylesheet" href="0_Exercicis.css">
</head>
<body>
    <div class="form">
        <h1>Calculadora</h1>
        <div class="enL">
            <h3>Operació:</h3>
            <h3>Resultat</h3>
        </div>
        <div class="enL">
            <input type="text" name="" id="num1" placeholder="Escriu el primer nombre...">
            <select name="" id="op">
                <option value="+">+</option>
                <option value="-">-</option>
                <option value="*">x</option>
                <option value="/">÷</option>
                <option value="**">^</option>
            </select>
            <input type="text" name="" id="num2" placeholder="Escriu el segon nombre...">
            <button id="igual">=</button>
            <input type="text" name="" id="resultat" readonly>
        </div>
        <div class="centerT">
            <p class="wrong"></p>
        </div>
        <script>
            var b1 = document.querySelector("#igual");
            var n1 = document.querySelector("#num1");
            var n2 = document.querySelector("#num2");
            var wr = document.querySelector(".wrong");
            var res = document.querySelector("#resultat");
            
            b1.addEventListener("click", calculadora);
            
            function calculadora() {
                var x = n1.value;
                var s = document.querySelector("#op option:checked").value;
                var y = n2.value;
                
                if (x == null || isNaN(x) || y == null || isNaN(y)) {
                    wr.innerHTML = `El primer número "${n1.value}" i/o el segon "${n2.value}" no son un número vàlid`;
                } else {
                    wr.innerHTML = "";
                    var x = parseFloat(n1.value);
                    var y = parseFloat(n2.value);
                    if (s == "+") {
                        res.value = x + y;
                    } else if (s == "-") {
                        res.value = x - y;
                    } else if (s == "*") {
                        res.value = x * y;
                    } else if (s == "/" && y != 0) {
                        res.value = x / y;
                    } else if (s == "/" && y == 0) {    // excepció per dividir per 0
                        wr.innerHTML = "No es pot dividir per zero!";
                    } else if (s == "**") {
                        res.value = x ** y;
                    }
                }
            }
        </script>
    </body>
    </html>